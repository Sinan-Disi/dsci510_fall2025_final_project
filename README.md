# Sample Project - Video-Game Analytics & Prediction (RAWG + Steam + VGSales)
This project explores trends in video-game ratings across Steam, RAWG, and VGSales (2000–2020) and develops a Ridge-regularized regression model to predict player feedback on Steam.
All figures are generated by src/main.py and saved automatically into the results/ folder (which is Git-ignored).

# Data sources
1) RAWG API-
Fields: name, release year, rating, platforms, genres  
Collected via the RAWG REST API  
Saved to: data/rawg_10000_unfiltered.csv → cleaned as data/rawg_clean.csv

2) Steam Dataset (Kaggle — nikdavis/steam-store-games)-
Fields: positive/negative ratings, price, playtime, owners range, platforms, categories, publisher, release date  
Saved to: data/steam.csv → cleaned as data/steam_clean.csv

3) VGSales (Kaggle — gregorut/videogamesales)-
Fields: platform, year, genre, global sales  
Saved to: data/vgsales.csv → cleaned as data/vgsales_clean.csv

| # | Dataset Name                     | Key Fields                                                           | Type      | Format     | Raw Data Size |
|---|----------------------------------|----------------------------------------------------------------------|-----------|------------|----------------|
| 1 | Steam Games Dataset (Kaggle)     | year, price, pos_ratings, neg_ratings, genres, playtime, owners_mid  | API Call  | CSV        | 27,075         |
| 2 | RAWG Video Games Database        | name, released, rating, genres, platforms                            | API Call  | JSON → CSV | 10,000         |
| 3 | Video Game Sales Dataset (Kaggle)| name, platform, genre, year, global_sales                            | API Call  | CSV        | 16,587         |

# Data Cleaning & Standardization
Performed inside src/preprocessing.py using parameters from src/config.py:

General Rules:
1) Year filtering: keep only titles from 2000–2020  
2) Remove NSFW keywords and non-game software (utilities, audio production, education, etc.)  
3) Canonical genre mapping  
    All datasets get a normalized genre_std  
    Custom mapping → 12 canonical groups: action, adventure, role-playing, shooter, strategy, simulation, racing, fighting, platform, puzzle, sports, misc  

4) RAWG platform mapping  
    Normalized to 4 buckets: PC, PlayStation, Xbox, Switch  

5) Steam modeling fields  
    total_ratings = positive_ratings + negative_ratings  
    pos_ratio = positive_ratings / total_ratings  
    owners_mid = midpoint of owner ranges (e.g., "20,000–50,000" → 35000)

All cleaned datasets are used by src/main.py.

# Summary of Results
# Analysis Results (Q1–Q6)
1) Q1 – RAWG: Average rating by genre  
    Titles are exploded by canonical genre.  
    Top genres include shooter, puzzle, adventure, roleplaying

2) Q2 – RAWG: Average Rating by Platform  
    Rating distribution across PC / PlayStation / Xbox / Switch.  
    PC tend to score slightly less on average in this sample.

3) Q3 – Steam: Review Ratio by Price Range  
    Price bins: Free, $0–5, $5–15, $15–30, $30–60  
    Mid-price titles often show the highest positive ratios.

4) Q4 – Steam: Review Volume vs Rating Ratio  
    Buckets: <100, 100–999, 1,000+ total reviews  
    Higher review volume typically aligns with better user perception.

5) Q5 – Steam: Years With the Most Highly Rated Games  
    Using threshold pos_ratio ≥ 0.75 and ≥25 reviews.  
    Peak years appear around 2015–2017.

6) Q6 – (Steam × VGSales): Avg positive_rating_ratio by genre_std vs avg global sales by genre_std; shows a weak negative correlation.

# Prediction Model (Q7)
Built a Ridge Regression model to predict pos_ratio using engineered Steam features.
Features include: log_price, is_free, log_owners_mid, log_total_ratings, year, median_playtime, genre_cluster, and price-bin dummies.
Best alpha (via GridSearchCV): 10
Performance: CV R² ≈ 0.22, Test R² ≈ 0.26, Test RMSE ≈ 0.15
Most important predictors: log_total_ratings, log_owners_mid, and price-bin effects.
Genre cluster and playtime had smaller influence.
Coefficient bar chart saved as: results/q7_ridge_coefficients.png

# Installation
* Install required packages: pip install -r requirements.txt
* Required Python packages:
1) numpy  
2) pandas  
3) scikit-learn  
4) matplotlib  
5) seaborn  
6) requests  
7) python-dotenv  
8) kaggle  
9) notebook  
10) ipykernel  
11) nbconvert  

* Environment setup:
    * Copy .env.example to .env
    * Set RAWG API key:
          RAWG_API_KEY=YOUR_RAWG_KEY
    * Place kaggle.json in the project root or in ~/.kaggle/
    * Alternatively define:
          KAGGLE_USERNAME=your_username  
          KAGGLE_KEY=your_key  
    * data/, results/, .env, kaggle.json are git-ignored.

# Running the project
1) Open src/results.ipynb  
2) Click **Run All** to execute the full workflow:
       Loads cleaned datasets  
       Performs Q1–Q7 analysis  
       Trains the regression model  
       Saves all plots to results/  
       Stores cleaned datasets in data/

3) You do not need to run data_collection.py, preprocessing.py, or main.py unless you want to regenerate raw/cleaned datasets manually.

# Tests
To run the tests:

    python src/tests.py

These tests:
- Check RAWG API connectivity if a RAWG_API_KEY is configured
- Verify that raw and cleaned CSV files exist and have the expected schema
- Confirm that cleaned data stays within the 2000–2020 year window
- Ensure that the results/ directory is writable

# Notes and Limitations
1) Genre mapping collapses many sub-genres into 12 canonical groups.  
2) Steam ratings are user-generated and noisy.  
3) Q7 uses Ridge (regularized linear regression) — expect low R².  
4) All results are descriptive; no causal claims.
5) Missing or low-quality Steam data (0 playtime, 0 reviews) limits sample reliability.
6) Log-scaling and bucket design were required to stabilize skewed variables (price, review volume, owners).
7) Only 8 overlapping genres exist between Steam and VGSales, constraining cross-dataset comparisons.
